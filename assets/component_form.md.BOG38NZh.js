import{s as i}from"./chunks/sleep.Bhnnbifk.js";import{P as u,a as c}from"./chunks/index.C08DdoYr.js";import{d as m,X as p,Q as a,u as A,Z as h,R as b,S as l,k as r,G as e,Y as d}from"./chunks/framework.nwrEuAw0.js";import"./chunks/index.4DmvHG38.js";import"./chunks/index.BeJCSdxc.js";import"./chunks/validate.CC0GjpC9.js";import"./chunks/theme.CwN1VO7-.js";import"./chunks/install.BalIz2Dd.js";import"./chunks/index.D5lW5ejP.js";import"./chunks/index.CHg6CLv2.js";import"./chunks/useIntl.D9BxrIIv.js";import"./chunks/index.BQcXUXwd.js";const f=m({__name:"basic",setup(s){const n=[{name:"INPUT",title:"文本"},{name:"DIGIT",title:"数字",fieldType:u.DIGIT},{name:"DIGIT",title:"数字",fieldType:u.DIGIT}],o=async t=>(await i(2e3),console.log("🚀 ~ handleReset ~ val:",t),!0);return(t,g)=>(a(),p(A(c),{grid:"","col-props":{span:12},"row-props":{gutter:100},items:n,onFinish:o}))}}),x=JSON.parse('{"title":"ProForm 高级表单","description":"","frontmatter":{"title":"ProForm 高级表单","outline":"deep"},"headers":[],"relativePath":"component/form.md","filePath":"component/form.md","lastUpdated":1758470074000}'),F={name:"component/form.md"},N=Object.assign(F,{setup(s){return(n,o)=>{const t=h("Demo");return a(),b("div",null,[l("h1",{id:"proform-高级表单",tabindex:"-1"},[e("ProForm 高级表单 "),l("a",{class:"header-anchor",href:"#proform-高级表单","aria-label":"Permalink to “ProForm 高级表单”"},"​")]),l("p",null,"ProForm 是核心组件之一，高性能表单控件，自带数据域管理。包含数据录入、校验以及对应样式。解决复杂表单控件数据联动，使用配置解决大部分业务问题，使复杂功能简单化实现。ProForm 是根据 JSON Schema 来生成表单的工具。ProForm 会根据 fieldType 来映射成不同的表单项。"),l("h2",{id:"使用演示",tabindex:"-1"},[e("使用演示 "),l("a",{class:"header-anchor",href:"#使用演示","aria-label":"Permalink to “使用演示”"},"​")]),l("p",null,"分步表单、Modal 表单、Drawer 表单、查询表单等多种 layout 可以覆盖大部分的使用场景，让我们脱离复杂而且繁琐的表单布局工作，用更少的代码完成更多的功能。"),r(t,{source:"%3C!--%0A%20*%20%40Author%3A%20shen%0A%20*%20%40Date%3A%202025-09-14%2022%3A13%3A28%0A%20*%20%40LastEditors%3A%20shen%0A%20*%20%40LastEditTime%3A%202025-09-21%2016%3A06%3A47%0A%20*%20%40Description%3A%0A--%3E%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20sleep%20%7D%20from%20'%40pro-design-vue%2Futils'%0Aimport%20%7B%20ProFieldType%2C%20ProForm%2C%20type%20ProFormItemType%20%7D%20from%20'pro-design-vue'%0A%0Aconst%20formItems%3A%20ProFormItemType%5B%5D%20%3D%20%5B%0A%20%20%7B%0A%20%20%20%20name%3A%20'INPUT'%2C%0A%20%20%20%20title%3A%20'%E6%96%87%E6%9C%AC'%2C%0A%20%20%20%20%2F%2F%20width%3A%20'sm'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20name%3A%20'DIGIT'%2C%0A%20%20%20%20title%3A%20'%E6%95%B0%E5%AD%97'%2C%0A%20%20%20%20fieldType%3A%20ProFieldType.DIGIT%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20name%3A%20'DIGIT'%2C%0A%20%20%20%20title%3A%20'%E6%95%B0%E5%AD%97'%2C%0A%20%20%20%20fieldType%3A%20ProFieldType.DIGIT%2C%0A%20%20%7D%2C%0A%5D%0A%0Aconst%20handleFinish%20%3D%20async%20(val)%20%3D%3E%20%7B%0A%20%20await%20sleep(2000)%0A%20%20console.log('%F0%9F%9A%80%20~%20handleReset%20~%20val%3A'%2C%20val)%0A%20%20return%20true%0A%7D%0A%3C%2Fscript%3E%0A%0A%3Ctemplate%3E%0A%20%20%3CProForm%0A%20%20%20%20grid%0A%20%20%20%20%3Acol-props%3D%22%7B%20span%3A%2012%20%7D%22%0A%20%20%20%20%3Arow-props%3D%22%7B%20gutter%3A%20100%20%7D%22%0A%20%20%20%20%3Aitems%3D%22formItems%22%0A%20%20%20%20%40finish%3D%22handleFinish%22%0A%20%20%3E%0A%20%20%3C%2FProForm%3E%0A%3C%2Ftemplate%3E%0A",path:"form/basic","raw-source":"%3C!--%0A%20*%20%40Author%3A%20shen%0A%20*%20%40Date%3A%202025-09-14%2022%3A13%3A28%0A%20*%20%40LastEditors%3A%20shen%0A%20*%20%40LastEditTime%3A%202025-09-21%2016%3A06%3A47%0A%20*%20%40Description%3A%0A--%3E%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20sleep%20%7D%20from%20'%40pro-design-vue%2Futils'%0Aimport%20%7B%20ProFieldType%2C%20ProForm%2C%20type%20ProFormItemType%20%7D%20from%20'pro-design-vue'%0A%0Aconst%20formItems%3A%20ProFormItemType%5B%5D%20%3D%20%5B%0A%20%20%7B%0A%20%20%20%20name%3A%20'INPUT'%2C%0A%20%20%20%20title%3A%20'%E6%96%87%E6%9C%AC'%2C%0A%20%20%20%20%2F%2F%20width%3A%20'sm'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20name%3A%20'DIGIT'%2C%0A%20%20%20%20title%3A%20'%E6%95%B0%E5%AD%97'%2C%0A%20%20%20%20fieldType%3A%20ProFieldType.DIGIT%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20name%3A%20'DIGIT'%2C%0A%20%20%20%20title%3A%20'%E6%95%B0%E5%AD%97'%2C%0A%20%20%20%20fieldType%3A%20ProFieldType.DIGIT%2C%0A%20%20%7D%2C%0A%5D%0A%0Aconst%20handleFinish%20%3D%20async%20(val)%20%3D%3E%20%7B%0A%20%20await%20sleep(2000)%0A%20%20console.log('%F0%9F%9A%80%20~%20handleReset%20~%20val%3A'%2C%20val)%0A%20%20return%20true%0A%7D%0A%3C%2Fscript%3E%0A%0A%3Ctemplate%3E%0A%20%20%3CProForm%0A%20%20%20%20grid%0A%20%20%20%20%3Acol-props%3D%22%7B%20span%3A%2012%20%7D%22%0A%20%20%20%20%3Arow-props%3D%22%7B%20gutter%3A%20100%20%7D%22%0A%20%20%20%20%3Aitems%3D%22formItems%22%0A%20%20%20%20%40finish%3D%22handleFinish%22%0A%20%20%3E%0A%20%20%3C%2FProForm%3E%0A%3C%2Ftemplate%3E%0A",description:""},{source:d(()=>[r(f)]),default:d(()=>[l("p",null,"form/basic")]),_:1}),l("h2",{id:"api",tabindex:"-1"},[e("API "),l("a",{class:"header-anchor",href:"#api","aria-label":"Permalink to “API”"},"​")]),l("h3",{id:"props",tabindex:"-1"},[e("Props "),l("a",{class:"header-anchor",href:"#props","aria-label":"Permalink to “Props”"},"​")]),l("div",{class:"vp-table"},[l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"参数"),l("th",null,"说明"),l("th",null,"类型"),l("th",null,"默认值")])]),l("tbody",null,[l("tr",null,[l("td",null,"colon"),l("td",null,"配置 Form.Item 的 colon 的默认值 (只有在属性 layout 为 horizontal 时有效)"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"true")])]),l("tr",null,[l("td",null,"disabled"),l("td",null,"设置全部表单项禁用，表单项单独配置优先级更高"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"hideRequired-mark"),l("td",null,"隐藏所有表单项的必选标记"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"label-align"),l("td",null,"label 标签的文本对齐方式"),l("td",null,[l("code",null,"left"),e(" | "),l("code",null,"right")]),l("td",null,[l("code",null,"'right'")])]),l("tr",null,[l("td",null,"label-col"),l("td",null,[e("label 标签布局，"),l("a",{href:"https://www.antdv.com/components/grid-cn/#col",target:"_blank",rel:"noreferrer"},"Antv Col"),e(" 的所有属性，设置 "),l("code",null,"span"),e(),l("code",null,"offset"),e(" 值，如 "),l("code",null,"{span: 3, offset: 12}"),e(" 或 "),l("code",null,"sm: {span: 3, offset: 12}")]),l("td",null,[l("code",null,"ColProps")]),l("td",null,"-")]),l("tr",null,[l("td",null,"label-wrap"),l("td",null,"label 标签的文本换行方式"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"layout"),l("td",null,"表单布局"),l("td",null,[l("code",null,"horizontal"),e("|"),l("code",null,"vertical")]),l("td",null,[l("code",null,"'horizontal'")])]),l("tr",null,[l("td",null,"form-key"),l("td",null,"表单key，默认不需要配置，系统自动递增"),l("td",null,[l("code",null,"string")]),l("td",null,"-")]),l("tr",null,[l("td",null,"wrapper-col"),l("td",null,"需要为输入控件设置布局样式时，使用该属性，用法同 labelCol"),l("td",null,[l("code",null,"ColProps")]),l("td",null,"-")]),l("tr",null,[l("td",null,"loading"),l("td",null,"表单受控加载动画，默认表单内部控制，提交表单时触发"),l("td",null,[l("code",null,"boolean")]),l("td",null,"-")]),l("tr",null,[l("td",null,"submit-on-loading"),l("td",null,"提交时是否显示加载动画(包含表单主体、提交按钮)"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"true")])]),l("tr",null,[l("td",null,"show-loading"),l("td",null,"是否显示加载动画(包含提交、加载初始值)"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"true")])]),l("tr",null,[l("td",null,"omit-nil"),l("td",null,"ProForm 会自动清空 null 和 undefined 的数据，如果你约定了 nil 代表某种数据，可以设置为 false 关闭此功能"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"true")])]),l("tr",null,[l("td",null,"readonly"),l("td",null,"设置全部表单项只读，表单项单独配置优先级更高"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"readonly-props"),l("td",null,"全部只读表单项的配置，与表单项单独配置合并处理"),l("td",null,[l("code",null,"{ tooltip?: boolean | string; copy?: boolean; emptyText?: string; ellipsis?: boolean; autoLine?: boolean}")]),l("td",null,[l("code",null,"{ emptyText: '-', ellipsis: true }")])]),l("tr",null,[l("td",null,"grid"),l("td",null,"表单布局的栅格化，基于行（row）和列（col）来定义信息区块的外部框架"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"col-props"),l("td",null,[e("在开启 grid 模式时传递给 Col，表单项单独配置优先级更高，支持"),l("a",{href:"https://www.antdv.com/components/grid-cn/#col",target:"_blank",rel:"noreferrer"},"Antv Col"),e(" 的所有属性")]),l("td",null,[l("code",null,"ColProps")]),l("td",null,[l("code",null,"{ xs: 24 }")])]),l("tr",null,[l("td",null,"row-props"),l("td",null,[e("在开启 grid 模式时传递给 Row，表单项(group、formList、formSet)单独配置优先级更高，支持"),l("a",{href:"https://www.antdv.com/components/grid-cn/#row",target:"_blank",rel:"noreferrer"},"Antv Row"),e(" 的所有属性")]),l("td",null,[l("code",null,"RowProps")]),l("td",null,[l("code",null,"{ gutter: 16 }")])]),l("tr",null,[l("td",null,"initial-values"),l("td",null,"表单默认值，只有初始化以及重置时生效"),l("td",null,[l("code",null,"object")]),l("td",null,"-")]),l("tr",null,[l("td",null,"request"),l("td",null,[e("获取表单默认值的网络请求，返回值会和"),l("code",null,"initialValues"),e("合并")]),l("td",null,[l("code",null,"(params)=>Promise<data>")]),l("td",null,"-")]),l("tr",null,[l("td",null,"params"),l("td",null,"用于 request 查询的额外参数，变化不会触发重新加载"),l("td",null,[l("code",null,"object")]),l("td",null,"-")]),l("tr",null,[l("td",null,"request-abort"),l("td",null,"终止网络请求，初始化有效"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"submitter"),l("td",null,"提交按钮相关配置"),l("td",null,[l("code",null,"boolean"),e(" | "),l("code",null,"SubmitterProps")]),l("td",null,[l("code",null,"true")])]),l("tr",null,[l("td",null,"items"),l("td",null,"表单的定义，一般是 json 对象，如果是分步表单，需要使用 json 数组来生成多个表单"),l("td",null,[l("code",null,"ProFormItemType"),e(" | "),l("code",null,"ProFormItemType[]")]),l("td",null,[l("code",null,"[]")])]),l("tr",null,[l("td",null,"layout-type"),l("td",null,"使用的表单布局模式"),l("td",null,[l("code",null,"Form"),e(" | "),l("code",null,"DrawerForm"),e(" | "),l("code",null,"ModalForm"),e(" | "),l("code",null,"QueryFilter"),e(" | "),l("code",null,"StepForm")]),l("td",null,[l("code",null,"'Form'")])])])])]),l("h3",{id:"events",tabindex:"-1"},[e("Events "),l("a",{class:"header-anchor",href:"#events","aria-label":"Permalink to “Events”"},"​")]),l("div",{class:"vp-table"},[l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"事件名"),l("th",null,"说明"),l("th",null,"类型")])]),l("tbody",null,[l("tr",null,[l("td",null,"init"),l("td",null,"表单初始化后回调事件"),l("td",null,[l("code",null,"(values, action)=> void")])]),l("tr",null,[l("td",null,"finish"),l("td",null,"提交表单且数据验证成功后回调事件"),l("td",null,[l("code",null,"(values)=>Promise<void> ｜ void")])]),l("tr",null,[l("td",null,"reset"),l("td",null,"点击重置按钮的回调"),l("td",null,[l("code",null,"(e)=>void")])]),l("tr",null,[l("td",null,"finish-failed"),l("td",null,"提交表单且数据验证失败后回调事件"),l("td",null,[l("code",null,"({ values, errorFields })=>void")])]),l("tr",null,[l("td",null,"values-change"),l("td",null,"提交表单且数据验证失败后回调事件"),l("td",null,[l("code",null,"(values)=>void")])]),l("tr",null,[l("td",null,"loading-change"),l("td",null,"加载动画变化后的回调事件"),l("td",null,[l("code",null,"(loading)=>void")])])])])]),l("h3",{id:"slots",tabindex:"-1"},[e("Slots "),l("a",{class:"header-anchor",href:"#slots","aria-label":"Permalink to “Slots”"},"​")]),l("div",{class:"vp-table"},[l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"插槽名"),l("th",null,"说明"),l("th",null,"类型")])]),l("tbody",null,[l("tr",null,[l("td",null,"submitter"),l("td",null,"提交按钮"),l("td",null,[l("code",null,"{props, action, defaultDoms}")])])])])]),l("h3",{id:"exposes",tabindex:"-1"},[e("Exposes "),l("a",{class:"header-anchor",href:"#exposes","aria-label":"Permalink to “Exposes”"},"​")]),l("div",{class:"vp-table"},[l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"名称"),l("th",null,"说明"),l("th",null,"类型")])]),l("tbody",null,[l("tr",null,[l("td",null,"getFieldValue"),l("td",null,"获取对应字段名的值"),l("td",null,[l("code",null,"(name: NamePath) => any ")])]),l("tr",null,[l("td",null,"getFieldsValue"),l("td",null,"获取一组字段名对应的值，会按照对应结构返回。默认返回现存字段值，当调用 getFieldsValue(true) 时返回所有值"),l("td",null,[l("code",null,"(nameList?: true | NamePath[]) => object")])]),l("tr",null,[l("td",null,"resetInitialValues"),l("td",null,"重新设置表单默认值"),l("td",null,[l("code",null,"(values: object) => void")])]),l("tr",null,[l("td",null,"getFieldFormatValue"),l("td",null,"获取格式化之后的单个数据"),l("td",null,[l("code",null,"(name: NamePath) => any")])]),l("tr",null,[l("td",null,"getFieldFormatValueObject"),l("td",null,"获取格式化之后的单个数据"),l("td",null,[l("code",null,"(name: NamePath) => object")])]),l("tr",null,[l("td",null,"validateFieldsReturnFormatValue"),l("td",null,"验字段后返回格式化之后的所有数据"),l("td",null,[l("code",null,"(nameList?: NamePath[]) => Promise<object>")])]),l("tr",null,[l("td",null,"setFieldValue"),l("td",null,"设置单个表单项的值"),l("td",null,[l("code",null,"(name: NamePath, value: any) => void")])]),l("tr",null,[l("td",null,"setFieldsValue"),l("td",null,"设置表单的值"),l("td",null,[l("code",null," (values: object, isMerge?: boolean = true) => void")])]),l("tr",null,[l("td",null,"resetField"),l("td",null,"重置字段到 initialValue，并清除验证信息"),l("td",null,[l("code",null,"(name: NamePath) => void")])]),l("tr",null,[l("td",null,"clearValidate"),l("td",null,"移除表单项的校验结果。传入待移除的表单项的 name 属性或者 name 组成的数组，如不传则移除整个表单的校验结果"),l("td",null,[l("code",null,"(nameList?: NamePath[]) => void ")])]),l("tr",null,[l("td",null,"validateFields"),l("td",null,"触发表单验证"),l("td",null,[l("code",null,"(nameList?: NamePath[]) => Promise")])]),l("tr",null,[l("td",null,"reset"),l("td",null,"对整个表单进行重置，将所有字段值重置为初始值并移除校验结果"),l("td",null,[l("code",null,"() => void")])]),l("tr",null,[l("td",null,"submit"),l("td",null,[e("提交表单，与点击 "),l("code",null,"submit"),e(" 按钮效果相同")]),l("td",null,[l("code",null,"() => void")])])])])]),l("h2",{id:"源代码",tabindex:"-1"},[e("源代码 "),l("a",{class:"header-anchor",href:"#源代码","aria-label":"Permalink to “源代码”"},"​")]),l("p",null,[l("a",{href:"https://github.com/pro-design-vue/pro-design/tree/dev/packages/components/form",target:"_blank",rel:"noreferrer"},"组件"),e(" • "),l("a",{href:"https://github.com/pro-design-vue/pro-design/tree/dev/packages/theme-chalk/src/form.less",target:"_blank",rel:"noreferrer"},"样式"),e(" • "),l("a",{href:"https://github.com/pro-design-vue/pro-design/blob/dev/docs/component/form.md",target:"_blank",rel:"noreferrer"},"文档")]),l("h2",{id:"贡献者",tabindex:"-1"},[e("贡献者 "),l("a",{class:"header-anchor",href:"#贡献者","aria-label":"Permalink to “贡献者”"},"​")]),l("p",null,[l("a",{href:"https://github.com/pro-design-vue/pro-design/graphs/contributors",target:"_blank"},[l("img",{src:"https://contrib.rocks/image?repo=pro-design-vue/pro-design&max=100&columns=15",width:"40px",style:{"pointer-events":"none"}})])])])}}});export{x as __pageData,N as default};
