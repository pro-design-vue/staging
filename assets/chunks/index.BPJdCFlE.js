import{d as O,e as y,P as h,L as b,Y as $,K as m,aF as j,U as u,ab as x,Q as D,M as p,u as I,c as V,l as N,i as B,F as E,k as d}from"./framework.DhmpMLhj.js";import{I as A,M as R,E as q,W as z,b as K,B as T,c as U,P as W,d as H,D as L}from"./theme.BpaDPARv.js";const Q=Object.prototype.toString;function k(n,t){return Q.call(n)===`[object ${t}]`}function F(n){return n!==null&&k(n,"Object")}function Y(n){return k(n,"Promise")&&F(n)&&C(n.then)&&C(n.catch)}function S(n){return k(n,"String")}function C(n){return typeof n=="function"}function G(n){return n?/^https?:\/\/.*$/.test(n):!1}const J=["src"];var X=O({__name:"icon",props:{fallback:{type:Boolean,required:!1},icon:{type:[Function,String],required:!1,skipCheck:!0}},setup(n){const t=n,e=y(()=>S(t.icon)&&G(t.icon)),l=y(()=>{const{icon:i}=t;return!S(i)&&(F(i)||C(i))});return(i,s)=>l.value?(m(),h(x(i.icon),j(u({key:0},i.$attrs)),null,16)):e.value?(m(),b("img",u({key:1,src:i.icon},i.$attrs),null,16,J)):i.fallback?(m(),h(I(A),j(u({key:2},i.$attrs)),{component:D(a=>[(m(),b("svg",u({viewBox:"0 0 24 24",width:"1em",height:"1em"},a),[...s[0]||(s[0]=[p("path",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",d:"M4 12h16"},null,-1),p("path",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",d:"M4 18h16"},null,-1),p("path",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16"},null,-1)])],16))]),_:1},16)):$("v-if",!0)}});const _=(n,t)=>(n.install=e=>{for(const l of[n,...Object.values({})])e.component(l.name,l)},n),Z=_(X),nn=Symbol(),tn=()=>V(nn,{});function on(n){const{proPrefixCls:t}=tn();return`${t?.value||"pro"}-${n}`}function en(n,t){const e=Object.assign({},n);for(let l=0;l<t.length;l+=1){const i=t[l];delete e[i]}return e}const rn=n=>{const{type:t,title:e="提示",icon:l,content:i="",okButtonProps:s,onOk:a,onCancel:c,...o}=n??{};R.confirm({title:e,content:i,icon:l??N(t==="danger"?q:t==="warning"?z:K,{style:{color:t==="danger"?"hsl(var(--pro-destructive))":"hsl(var(--pro-warning))"}}),okButtonProps:{danger:t==="danger",...s},async onOk(...r){return Y(a)?await new Promise(()=>{a?.(r)}):a?.(r)},async onCancel(...r){return c?.(r)},...o})};function M(n){return n.some(t=>!B(t)||t.type!==Comment&&!(t.type===E&&!M(t.children)))?n:null}function w(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!B(n)}var ln=O({name:"ProButton",inheritAttrs:!1,props:{type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:()=>!1},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},href:String,target:String,title:String,mode:{type:String,default:"default"},tooltip:{type:String,default:""},tooltipProps:{type:Object},dropdownProps:{type:Object},menuProps:{type:Object},popconfirmProps:{type:Object},confirmProps:{type:Object},icon:{type:[String,Object,Function],default:""},iconStyle:{type:Object},permission:{type:String,default:""},items:{type:Array,default:()=>[]},onClick:Function,onConfirm:Function,onCancel:Function,onMenuClick:Function},emits:["confirm","click","cancel","menu-click"],setup(n,{attrs:t,slots:e}){const l=on("button"),i=c=>{var o;if(e[c]){const r=(o=e[c])==null?void 0:o.call(e);if(M(r))return r}},s=y(()=>en(n,["items","permission","iconStyle","icon","confirmProps","popconfirmProps","menuProps","dropdownProps","tooltipProps","tooltip","mode","onConfirm","onClick","onCancel","onMenuClick"])),a=c=>{var o,r,P,g,v;if(n.mode==="default"){(o=n.onClick)==null||o.call(n,c);return}n.mode==="confirm"&&rn({...n.confirmProps,content:i((r=n.confirmProps)==null?void 0:r.content)||((P=n.confirmProps)==null?void 0:P.content),title:i((g=n.confirmProps)==null?void 0:g.title)||((v=n.confirmProps)==null?void 0:v.title),onCancel(){var f;return(f=n.onCancel)==null?void 0:f.call(n)},onOk(){var f;return(f=n.onConfirm)==null?void 0:f.call(n)}})};return()=>{let c=null;(e.icon||n.icon)&&(c=e.icon?e.icon():d(Z,{icon:n.icon},null));let o=d(T,u(t,s.value,{class:l,onClick:n.mode==="popconfirm"||n.mode==="dropdown"?void 0:a}),{default:()=>{var r;return[(r=e.default)==null?void 0:r.call(e)]},icon:()=>c});if(n.disabled)return o;if(n.tooltip){const r=(function(){return o})();o=d(U,u(n.tooltipProps,{title:n.tooltip}),w(o)?o:{default:()=>[r]})}return n.mode==="popconfirm"?d(W,u(n.popconfirmProps,{onConfirm:n.onConfirm,onCancel:n.onCancel}),w(o)?o:{default:()=>[o]}):n.mode==="dropdown"?d(L,n.dropdownProps,{default:()=>[o],overlay:()=>d(H,u(n.menuProps,{items:n.items,onClick:n.onMenuClick}),null)}):o}}});const un=_(ln);export{un as P,tn as a,en as o,on as u,_ as w};
