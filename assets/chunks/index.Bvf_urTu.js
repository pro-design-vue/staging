import{b as U,P as B}from"./index.DS3JMEMC.js";import{d as A,K as D,f as m,aR as I,a_ as E,aZ as H,e as s,a$ as V,X as u,Q as i,aP as _,Y as d,$ as c,S as f,a1 as n,u as l,U as k,a2 as $,k as K,a0 as W}from"./framework.nwrEuAw0.js";import{u as Y}from"./index.D5lW5ejP.js";import{u as L}from"./index.CHg6CLv2.js";import{_ as Q,$ as X,a0 as Z,Y as G}from"./theme.Vccz36Hl.js";import{w as J}from"./install.BalIz2Dd.js";var ee=A({name:"ProModal",inheritAttrs:!1,__name:"modal",props:{description:{type:String,required:!1},showFullscreen:{type:Boolean,required:!1,default:!0},defaultFullscreen:{type:Boolean,required:!1},draggable:{type:Boolean,required:!1,default:!1},top:{type:Number,required:!1,default:100},prefixCls:{type:String,required:!1},open:{type:Boolean,required:!1,default:!1},confirmLoading:{type:Boolean,required:!1},title:{type:null,required:!1},closable:{type:Boolean,required:!1,default:!0},closeIcon:{type:null,required:!1},onOk:{type:Function,required:!1},onCancel:{type:Function,required:!1},"onUpdate:visible":{type:Function,required:!1},"onUpdate:open":{type:Function,required:!1},onChange:{type:Function,required:!1},afterClose:{type:Function,required:!1},centered:{type:Boolean,required:!1},width:{type:null,required:!1},footer:{type:null,required:!1},okText:{type:null,required:!1},okType:{type:String,required:!1},cancelText:{type:null,required:!1},icon:{type:null,required:!1},maskClosable:{type:Boolean,required:!1,default:!0},forceRender:{type:Boolean,required:!1},okButtonProps:{type:Object,required:!1},cancelButtonProps:{type:Object,required:!1},destroyOnClose:{type:Boolean,required:!1,default:!0},wrapClassName:{type:String,required:!1},maskTransitionName:{type:String,required:!1},transitionName:{type:String,required:!1},getContainer:{type:[String,Boolean,Function],required:!1,skipCheck:!0,default:()=>document.body},zIndex:{type:Number,required:!1},bodyStyle:{type:Object,required:!1},maskStyle:{type:Object,required:!1},mask:{type:Boolean,required:!1,default:!0},keyboard:{type:Boolean,required:!1,default:!0},wrapProps:{type:Object,required:!1},focusTriggerAfterClose:{type:Boolean,required:!1},modalRender:{type:Function,required:!1},mousePosition:{type:Object,required:!1}},emits:["cancel","fullScreen"],setup(F,{emit:S}){const a=F,q=S,w=D(),t=Y("modal"),v=m(!1),r=m(a.defaultFullscreen),{isMobile:b}=L(),g=m(0),h=I("modalHeaderRef"),{width:P}=E(h);H(document.body,e=>{const o=e[0],{width:z}=o?.contentRect||{};g.value=z});const p=s(()=>b.value||r.value),y=s(()=>a.draggable&&!p.value),{style:O}=V(h,{disabled:s(()=>!y.value),onMove(){v.value=!0}}),N=s(()=>U(a,["closable","onCancel","title","width","height"])),R=s(()=>({[t]:!0,[w.class]:!0,[`${t}--fullscreen`]:p.value,[`${t}--draggable`]:y.value})),x=s(()=>v.value?O.value:y.value?{left:(g.value-P.value)/2+"px",top:`${a.top}px`}:{top:`${a.top}px`}),j=s(()=>p.value?"100%":a.width),C=e=>{var o;r.value=a.defaultFullscreen,(o=a["onUpdate:open"])==null||o.call(a,!1),q("cancel",e)},M=e=>{e.stopPropagation(),C(e)},T=()=>{r.value=!r.value,q("fullScreen",r.value)};return(e,o)=>(i(),u(l(G),W(N.value,{class:R.value,closable:!1,width:j.value,style:x.value,onCancel:C}),_({title:d(()=>[f("div",{ref:"modalHeaderRef",class:n(`${l(t)}-header`)},[c(e.$slots,"title",{},()=>[f("div",{class:n(`${l(t)}-title`)},k(e.title),3)]),c(e.$slots,"description",{},()=>[f("div",{class:n(`${l(t)}-description`)},k(e.description),3)]),f("div",{class:n(`${l(t)}-extra`)},[e.showFullscreen&&!l(b)?(i(),u(l(B),{key:0,class:n(`${l(t)}-fullscreen`),size:"small",shape:"circle",type:"text",onClick:T},{icon:d(()=>[r.value?(i(),u(l(X),{key:1})):(i(),u(l(Q),{key:0}))]),_:1},8,["class"])):$("v-if",!0),e.closable?(i(),u(l(B),{key:1,class:n(`${l(t)}-close`),size:"small",shape:"circle",type:"text",onClick:M},{icon:d(()=>[K(l(Z))]),_:1},8,["class"])):$("v-if",!0)],2)],2)]),default:d(()=>[c(e.$slots,"default")]),_:2},[e.$slots.footer?{name:"footer",fn:d(()=>[c(e.$slots,"footer")]),key:"0"}:void 0]),1040,["class","width","style"]))}});const ne=J(ee);export{ne as P};
