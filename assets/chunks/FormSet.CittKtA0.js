import{h as g,p as _,j as h,F as b}from"./index.C08DdoYr.js";import{u as A}from"./useFieldValue.iT8N8QSs.js";import{F as I,a as O}from"./FormTitle.aiVroYjA.js";import{r as v}from"./run-function.ZYhDcPlt.js";import{a as S}from"./index.BeJCSdxc.js";import{p as j,i as w,U as L}from"./theme.CwN1VO7-.js";import{d as T,e as l,k as i,w as C}from"./framework.nwrEuAw0.js";import"./index.4DmvHG38.js";import"./index.CHg6CLv2.js";import"./index.D5lW5ejP.js";import"./install.BalIz2Dd.js";import"./validate.CC0GjpC9.js";import"./useIntl.D9BxrIIv.js";import"./index.BQcXUXwd.js";const E=["formList","formSet","group","divider"],k=["autoLink","colon","hasFeedback","labelAlign","labelCol","required","validateFirst","validateStatus","validateTrigger","wrapperCol","required"];var M=T({name:"FormSet",inheritAttrs:!1,props:{name:{type:[String,Array],default:void 0},initialValue:{type:Object,default:void 0},title:{type:[String,Object,Function],default:void 0},tooltip:{type:String,default:void 0},colProps:{type:Object,default:void 0},rowProps:{type:Object,default:void 0},spaceProps:{type:Object,default:()=>({})},formItemProps:{type:[Object,Function],default:void 0},convertValue:{type:Function,default:void 0},transform:{type:Function,default:void 0},items:{type:[Array,Function],default:void 0}},setup(e){const{formatItems:c,formData:u}=g(),{fieldValue:p,onValueChange:y}=A({namePath:l(()=>e.name),initialValue:e.initialValue,convertValue:e.convertValue,transform:e.transform}),F=l(()=>{var t;return(t=v(e.formItemProps,u.value))!=null?t:{}}),P=l(()=>S({..._(F.value,k)})),m=l(()=>{var t,a,o;let f=(a=v((t=e.items)!=null?t:[],u.value))!=null?a:[];return Array.isArray(e.initialValue)&&e.initialValue.length&&(f=f.filter(r=>{var n;return!E.includes((n=r.fieldType)!=null?n:"")}).map((r,n)=>(typeof r.initialValue>"u"&&(r.initialValue=e.initialValue[n]),r))),(o=c?.(f))!=null?o:[]}),s=l(()=>m.value.map(t=>t.name)),d=l(()=>{const t=[];return Array.isArray(s.value)&&s.value.length&&s.value.forEach((a,o)=>{t[o]=j(u.value,a)}),t}),V=l(()=>{const t={};return e.title&&(t.label=()=>i(I,{title:e.title,tooltip:e.tooltip},null)),t});return C(d,()=>{w(d.value,p.value)||y(d.value)}),()=>{var t;return!((t=e.name)!=null&&t.length)||!m.value.length?null:i(O,{colProps:e.colProps},{default:()=>[i(L.Item,P.value,{default:()=>[i(h,{rowProps:e.rowProps},{default:()=>{var a;return[i(b,{list:m.value,type:"space",spaceProps:{size:[8,0],...(a=e.spaceProps)!=null?a:{}}},null)]}})],...V.value})]})}}});export{M as default};
