import{d as g,g as _,a as F,h as M,c as E}from"./validate.CC0GjpC9.js";import{d as w,e as k,X as P,R as h,a2 as V,Q as m,aW as b,a0 as u,ag as D,Y as I,S as p,u as N,l as A,i as j,F as $,k as d}from"./framework.nwrEuAw0.js";import{I as U,Y as q,a2 as x,a3 as z,E as R,B as T,e as W,a4 as Y,k as H,m as K}from"./theme.BNFhy3IT.js";import{w as B}from"./install.BalIz2Dd.js";import{u as Q}from"./index.D5lW5ejP.js";const X=["src"];var G=w({__name:"icon",props:{fallback:{type:Boolean,required:!1},icon:{type:[Function,String],required:!1,skipCheck:!0}},setup(n){const o=n,e=k(()=>g(o.icon)&&_(o.icon)),r=k(()=>{const{icon:i}=o;return!g(i)&&(F(i)||M(i))});return(i,s)=>r.value?(m(),P(D(i.icon),b(u({key:0},i.$attrs)),null,16)):e.value?(m(),h("img",u({key:1,src:i.icon},i.$attrs),null,16,X)):i.fallback?(m(),P(N(U),b(u({key:2},i.$attrs)),{component:I(c=>[(m(),h("svg",u({viewBox:"0 0 24 24",width:"1em",height:"1em"},c),[...s[0]||(s[0]=[p("path",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",d:"M4 12h16"},null,-1),p("path",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",d:"M4 18h16"},null,-1),p("path",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16"},null,-1)])],16))]),_:1},16)):V("v-if",!0)}});const J=B(G);function an(n){const o={};if(Object.keys(n||{}).forEach(e=>{n[e]!==void 0&&(o[e]=n[e])}),!(Object.keys(o).length<1))return o}function cn(n,o){const e={};if(Object.keys(n||{}).forEach(r=>{!o.includes(r)&&n[r]!==void 0&&(e[r]=n[r])}),!(Object.keys(e).length<1))return e}function L(n,o){const e=Object.assign({},n);for(let r=0;r<o.length;r+=1){const i=o[r];delete e[i]}return e}const Z=n=>{const{type:o,title:e="提示",icon:r,content:i="",okButtonProps:s,onOk:c,onCancel:a,...t}=n??{};q.confirm({title:e,content:i,icon:r??A(o==="danger"?x:o==="warning"?z:R,{style:{color:o==="danger"?"hsl(var(--pro-destructive))":"hsl(var(--pro-warning))"}}),okButtonProps:{danger:o==="danger",...s},async onOk(...l){return E(c)?await new Promise(()=>{c?.(l)}):c?.(l)},async onCancel(...l){return a?.(l)},...t})};function S(n){return n.some(o=>!j(o)||o.type!==Comment&&!(o.type===$&&!S(o.children)))?n:null}function O(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!j(n)}var nn=w({name:"ProButton",inheritAttrs:!1,props:{type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:()=>!1},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},href:String,target:String,title:String,mode:{type:String,default:"default"},tooltip:{type:String,default:""},tooltipProps:{type:Object},dropdownProps:{type:Object},menuProps:{type:Object},popconfirmProps:{type:Object},confirmProps:{type:Object},icon:{type:[String,Object,Function],default:""},iconStyle:{type:Object},permission:{type:String,default:""},items:{type:Array,default:()=>[]},onClick:Function,onConfirm:Function,onCancel:Function,onMenuClick:Function},emits:["confirm","click","cancel","menu-click"],setup(n,{attrs:o,slots:e}){const r=Q("button"),i=a=>{var t;if(e[a]){const l=(t=e[a])==null?void 0:t.call(e);if(S(l))return l}},s=k(()=>L(n,["items","permission","iconStyle","icon","confirmProps","popconfirmProps","menuProps","dropdownProps","tooltipProps","tooltip","mode","onConfirm","onClick","onCancel","onMenuClick"])),c=a=>{var t,l,y,C,v;if(n.mode==="default"){(t=n.onClick)==null||t.call(n,a);return}n.mode==="confirm"&&Z({...n.confirmProps,content:i((l=n.confirmProps)==null?void 0:l.content)||((y=n.confirmProps)==null?void 0:y.content),title:i((C=n.confirmProps)==null?void 0:C.title)||((v=n.confirmProps)==null?void 0:v.title),onCancel(){var f;return(f=n.onCancel)==null?void 0:f.call(n)},onOk(){var f;return(f=n.onConfirm)==null?void 0:f.call(n)}})};return()=>{let a=null;(e.icon||n.icon)&&(a=e.icon?e.icon():d(J,{icon:n.icon},null));let t=d(T,u(o,s.value,{class:r,onClick:n.mode==="popconfirm"||n.mode==="dropdown"?void 0:c}),{default:()=>{var l;return[(l=e.default)==null?void 0:l.call(e)]},icon:()=>a});if(n.disabled)return t;if(n.tooltip){const l=(function(){return t})();t=d(W,u(n.tooltipProps,{title:n.tooltip}),O(t)?t:{default:()=>[l]})}return n.mode==="popconfirm"?d(Y,u(n.popconfirmProps,{onConfirm:n.onConfirm,onCancel:n.onCancel}),O(t)?t:{default:()=>[t]}):n.mode==="dropdown"?d(K,n.dropdownProps,{default:()=>[t],overlay:()=>d(H,u(n.menuProps,{items:n.items,onClick:n.onMenuClick}),null)}):t}}});const un=B(nn);export{un as P,an as a,cn as b,L as o};
