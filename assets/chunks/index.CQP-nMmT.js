import{b as U,P as B}from"./index.DhK_34Wg.js";import{d as A,K as D,f as m,aJ as I,a$ as E,a_ as H,e as s,b0 as V,X as u,Q as i,aQ as K,Y as d,$ as c,S as f,a1 as n,u as l,U as k,a2 as F,k as Q,a0 as W}from"./framework.LW9JDvVy.js";import{u as _}from"./index.Dw6vpUqL.js";import{u as J}from"./index.Dvj91dNc.js";import{a7 as L,a8 as X,a9 as Y,M as G}from"./theme.Cp8dtnuj.js";import{w as Z}from"./install.BalIz2Dd.js";var ee=A({name:"ProModal",inheritAttrs:!1,__name:"modal",props:{description:{type:String,required:!1},showFullscreen:{type:Boolean,required:!1,default:!1},defaultFullscreen:{type:Boolean,required:!1},draggable:{type:Boolean,required:!1,default:!1},top:{type:Number,required:!1,default:100},prefixCls:{type:String,required:!1},open:{type:Boolean,required:!1,default:!1},confirmLoading:{type:Boolean,required:!1},title:{type:null,required:!1},closable:{type:Boolean,required:!1,default:!0},closeIcon:{type:null,required:!1},onOk:{type:Function,required:!1},onCancel:{type:Function,required:!1},"onUpdate:visible":{type:Function,required:!1},"onUpdate:open":{type:Function,required:!1},onChange:{type:Function,required:!1},afterClose:{type:Function,required:!1},centered:{type:Boolean,required:!1},width:{type:null,required:!1},footer:{type:null,required:!1},okText:{type:null,required:!1},okType:{type:String,required:!1},cancelText:{type:null,required:!1},icon:{type:null,required:!1},maskClosable:{type:Boolean,required:!1,default:!0},forceRender:{type:Boolean,required:!1},okButtonProps:{type:Object,required:!1},cancelButtonProps:{type:Object,required:!1},destroyOnClose:{type:Boolean,required:!1,default:!0},wrapClassName:{type:String,required:!1},maskTransitionName:{type:String,required:!1},transitionName:{type:String,required:!1},getContainer:{type:[String,Boolean,Function],required:!1,skipCheck:!0,default:()=>document.body},zIndex:{type:Number,required:!1},bodyStyle:{type:Object,required:!1},maskStyle:{type:Object,required:!1},mask:{type:Boolean,required:!1,default:!0},keyboard:{type:Boolean,required:!1,default:!0},wrapProps:{type:Object,required:!1},focusTriggerAfterClose:{type:Boolean,required:!1},modalRender:{type:Function,required:!1},mousePosition:{type:Object,required:!1}},emits:["cancel","fullScreen"],setup(S,{emit:$}){const a=S,q=$,w=D(),t=_("modal"),v=m(!1),r=m(a.defaultFullscreen),{isMobile:b}=J(),g=m(0),h=I("modalHeaderRef"),{width:P}=E(h);H(document.body,e=>{const o=e[0],{width:z}=o?.contentRect||{};g.value=z});const p=s(()=>b.value||r.value),y=s(()=>a.draggable&&!p.value),{style:O}=V(h,{disabled:s(()=>!y.value),onMove(){v.value=!0}}),N=s(()=>U(a,["closable","onCancel","title","width","height"])),x=s(()=>({[t]:!0,[w.class]:!0,[`${t}--fullscreen`]:p.value,[`${t}--draggable`]:y.value})),M=s(()=>v.value?O.value:y.value?{left:(g.value-P.value)/2+"px",top:`${a.top}px`}:{top:`${a.top}px`}),R=s(()=>p.value?"100%":a.width),C=e=>{var o;r.value=a.defaultFullscreen,(o=a["onUpdate:open"])==null||o.call(a,!1),q("cancel",e)},j=e=>{e.stopPropagation(),C(e)},T=()=>{r.value=!r.value,q("fullScreen",r.value)};return(e,o)=>(i(),u(l(G),W(N.value,{class:x.value,closable:!1,width:R.value,style:M.value,onCancel:C}),K({title:d(()=>[f("div",{ref:"modalHeaderRef",class:n(`${l(t)}-header`)},[c(e.$slots,"title",{},()=>[f("div",{class:n(`${l(t)}-title`)},k(e.title),3)]),c(e.$slots,"description",{},()=>[f("div",{class:n(`${l(t)}-description`)},k(e.description),3)]),f("div",{class:n(`${l(t)}-extra`)},[e.showFullscreen&&!l(b)?(i(),u(l(B),{key:0,class:n(`${l(t)}-fullscreen`),size:"small",shape:"circle",type:"text",onClick:T},{icon:d(()=>[r.value?(i(),u(l(X),{key:1})):(i(),u(l(L),{key:0}))]),_:1},8,["class"])):F("v-if",!0),e.closable?(i(),u(l(B),{key:1,class:n(`${l(t)}-close`),size:"small",shape:"circle",type:"text",onClick:j},{icon:d(()=>[Q(l(Y))]),_:1},8,["class"])):F("v-if",!0)],2)],2)]),default:d(()=>[c(e.$slots,"default")]),_:2},[e.$slots.footer?{name:"footer",fn:d(()=>[c(e.$slots,"footer")]),key:"0"}:void 0]),1040,["class","width","style"]))}});const ne=Z(ee);export{ne as P};
