import{s}from"./chunks/sleep.Bhnnbifk.js";import{P as t,a as c}from"./chunks/index.DlV9F56F.js";import{d as p,X as m,Q as a,u as A,Z as h,R as f,S as l,k as o,G as n,Y as r}from"./chunks/framework.nwrEuAw0.js";import"./chunks/index.C6FfYLOx.js";import"./chunks/index.C2lGjyYh.js";import"./chunks/validate.CC0GjpC9.js";import"./chunks/theme.BURSsUt7.js";import"./chunks/install.BalIz2Dd.js";import"./chunks/index.D5lW5ejP.js";import"./chunks/index.CHg6CLv2.js";import"./chunks/useIntl.B-WcjL1y.js";import"./chunks/index.DjYT7ubd.js";const P=p({__name:"basic",setup(i){const u=[{name:"INPUT",title:"文本",initialValue:"2",colSize:16,convertValue:e=>e+"1"},{name:"DIGIT",title:"数字",fieldType:t.DIGIT},{fieldType:t.GROUP,grid:!1,rowProps:{gutter:20},children:[{title:"数字",name:"est",fieldType:t.DIGIT,transform:e=>e+"1"},{name:"DIGIT",title:"数字",fieldType:t.DIGIT}]}],d=async e=>(await s(2e3),console.log(e),!0);return(e,F)=>(a(),m(A(c),{grid:"","col-props":{span:12},"row-props":{gutter:100},items:u,onFinish:d}))}}),x=JSON.parse('{"title":"ProForm 高级表单","description":"","frontmatter":{"title":"ProForm 高级表单","outline":"deep"},"headers":[],"relativePath":"component/form.md","filePath":"component/form.md","lastUpdated":1758704841000}'),y={name:"component/form.md"},R=Object.assign(y,{setup(i){return(u,d)=>{const e=h("Demo");return a(),f("div",null,[l("h1",{id:"proform-高级表单",tabindex:"-1"},[n("ProForm 高级表单 "),l("a",{class:"header-anchor",href:"#proform-高级表单","aria-label":"Permalink to “ProForm 高级表单”"},"​")]),l("p",null,[n("ProForm 是核心组件之一，高性能表单控件，自带数据域管理。包含数据录入、校验以及对应样式。解决复杂表单控件数据联动，使用配置解决大部分业务问题，使复杂功能简单化实现。ProForm 是根据 JSON Schema 来生成表单。ProForm 会根据 fieldType 来映射成不同的"),l("a",{href:"#proformitemtype"},"表单项"),n("。")]),l("h2",{id:"何时使用-proform",tabindex:"-1"},[n("何时使用 ProForm？ "),l("a",{class:"header-anchor",href:"#何时使用-proform","aria-label":"Permalink to “何时使用 ProForm？”"},"​")]),l("p",null,"当你想快速实现一个表单但不想花太多时间去布局时 ProForm 是最好的选择。"),l("p",null,"ProForm 是基于 antdv Form 的JSON Schema封装，但是在其之上还增加一些预设行为和多种布局。这些布局之间可以无缝切换，并且拥有公共的 API。"),l("div",{class:"vp-table"},[l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"布局"),l("th",null,"使用场景")])]),l("tbody",null,[l("tr",null,[l("td",null,[l("a",{href:"#props"},"ProForm")]),l("td",null,[n("标准 Form，增加了 "),l("code",null,"onFinish"),n(" 中自动 "),l("code",null,"loading"),n(" 和根据 "),l("code",null,"request"),n(" 自动获取默认值的功能。通过设置 "),l("code",null,"layoutType"),n(" 可以实现所有布局。")])]),l("tr",null,[l("td",null,[l("a",{href:"./modal-form"},"ProModalForm|ProDrawerForm")]),l("td",null,[n("在 ProForm 的基础上增加了 "),l("code",null,"trigger"),n(" ，无需维护 "),l("code",null,"open"),n(" 状态。")])]),l("tr",null,[l("td",null,[l("a",{href:"./query-filter"},"ProQueryFilter")]),l("td",null,"一般用于作为筛选表单，需要配合其他数据展示组件使用。")]),l("tr",null,[l("td",null,[l("a",{href:"./steps-form"},"ProStepsForm")]),l("td",null,[n("分步表单，需要配置 "),l("code",null,"steps"),n(" 生成步骤使用。")])])])])]),l("h2",{id:"使用演示",tabindex:"-1"},[n("使用演示 "),l("a",{class:"header-anchor",href:"#使用演示","aria-label":"Permalink to “使用演示”"},"​")]),l("p",null,"分步表单、Modal 表单、Drawer 表单、查询表单等多种 layout 可以覆盖大部分的使用场景，让我们脱离复杂而且繁琐的表单布局工作，用更少的代码完成更多的功能。"),o(e,{source:"%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20sleep%20%7D%20from%20'%40pro-design-vue%2Futils'%0Aimport%20%7B%20ProFieldType%2C%20ProForm%2C%20type%20ProFormItemType%20%7D%20from%20'pro-design-vue'%0A%0Aconst%20formItems%3A%20ProFormItemType%5B%5D%20%3D%20%5B%0A%20%20%7B%0A%20%20%20%20name%3A%20'INPUT'%2C%0A%20%20%20%20title%3A%20'%E6%96%87%E6%9C%AC'%2C%0A%20%20%20%20initialValue%3A%20'2'%2C%0A%20%20%20%20colSize%3A%2016%2C%0A%20%20%20%20convertValue%3A%20(value)%20%3D%3E%20%7B%0A%20%20%20%20%20%20return%20value%20%2B%20'1'%0A%20%20%20%20%7D%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20name%3A%20'DIGIT'%2C%0A%20%20%20%20title%3A%20'%E6%95%B0%E5%AD%97'%2C%0A%20%20%20%20fieldType%3A%20ProFieldType.DIGIT%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20fieldType%3A%20ProFieldType.GROUP%2C%0A%20%20%20%20grid%3A%20false%2C%0A%20%20%20%20rowProps%3A%20%7B%0A%20%20%20%20%20%20gutter%3A%2020%2C%0A%20%20%20%20%7D%2C%0A%20%20%20%20%2F%2F%20colProps%3A%20%7B%0A%20%20%20%20%2F%2F%20%20%20span%3A%2024%2C%0A%20%20%20%20%2F%2F%20%7D%2C%0A%20%20%20%20children%3A%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%95%B0%E5%AD%97'%2C%0A%20%20%20%20%20%20%20%20name%3A%20'est'%2C%0A%20%20%20%20%20%20%20%20fieldType%3A%20ProFieldType.DIGIT%2C%0A%20%20%20%20%20%20%20%20transform%3A%20(value)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20value%20%2B%20'1'%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20name%3A%20'DIGIT'%2C%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%95%B0%E5%AD%97'%2C%0A%20%20%20%20%20%20%20%20fieldType%3A%20ProFieldType.DIGIT%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%2C%0A%20%20%7D%2C%0A%5D%0A%0Aconst%20handleFinish%20%3D%20async%20(val)%20%3D%3E%20%7B%0A%20%20await%20sleep(2000)%0A%20%20console.log(val)%0A%20%20return%20true%0A%7D%0A%3C%2Fscript%3E%0A%0A%3Ctemplate%3E%0A%20%20%3CProForm%0A%20%20%20%20grid%0A%20%20%20%20%3Acol-props%3D%22%7B%20span%3A%2012%20%7D%22%0A%20%20%20%20%3Arow-props%3D%22%7B%20gutter%3A%20100%20%7D%22%0A%20%20%20%20%3Aitems%3D%22formItems%22%0A%20%20%20%20%40finish%3D%22handleFinish%22%0A%20%20%3E%0A%20%20%3C%2FProForm%3E%0A%3C%2Ftemplate%3E%0A",path:"form/basic","raw-source":"%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20sleep%20%7D%20from%20'%40pro-design-vue%2Futils'%0Aimport%20%7B%20ProFieldType%2C%20ProForm%2C%20type%20ProFormItemType%20%7D%20from%20'pro-design-vue'%0A%0Aconst%20formItems%3A%20ProFormItemType%5B%5D%20%3D%20%5B%0A%20%20%7B%0A%20%20%20%20name%3A%20'INPUT'%2C%0A%20%20%20%20title%3A%20'%E6%96%87%E6%9C%AC'%2C%0A%20%20%20%20initialValue%3A%20'2'%2C%0A%20%20%20%20colSize%3A%2016%2C%0A%20%20%20%20convertValue%3A%20(value)%20%3D%3E%20%7B%0A%20%20%20%20%20%20return%20value%20%2B%20'1'%0A%20%20%20%20%7D%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20name%3A%20'DIGIT'%2C%0A%20%20%20%20title%3A%20'%E6%95%B0%E5%AD%97'%2C%0A%20%20%20%20fieldType%3A%20ProFieldType.DIGIT%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20fieldType%3A%20ProFieldType.GROUP%2C%0A%20%20%20%20grid%3A%20false%2C%0A%20%20%20%20rowProps%3A%20%7B%0A%20%20%20%20%20%20gutter%3A%2020%2C%0A%20%20%20%20%7D%2C%0A%20%20%20%20%2F%2F%20colProps%3A%20%7B%0A%20%20%20%20%2F%2F%20%20%20span%3A%2024%2C%0A%20%20%20%20%2F%2F%20%7D%2C%0A%20%20%20%20children%3A%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%95%B0%E5%AD%97'%2C%0A%20%20%20%20%20%20%20%20name%3A%20'est'%2C%0A%20%20%20%20%20%20%20%20fieldType%3A%20ProFieldType.DIGIT%2C%0A%20%20%20%20%20%20%20%20transform%3A%20(value)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20value%20%2B%20'1'%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20name%3A%20'DIGIT'%2C%0A%20%20%20%20%20%20%20%20title%3A%20'%E6%95%B0%E5%AD%97'%2C%0A%20%20%20%20%20%20%20%20fieldType%3A%20ProFieldType.DIGIT%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%2C%0A%20%20%7D%2C%0A%5D%0A%0Aconst%20handleFinish%20%3D%20async%20(val)%20%3D%3E%20%7B%0A%20%20await%20sleep(2000)%0A%20%20console.log(val)%0A%20%20return%20true%0A%7D%0A%3C%2Fscript%3E%0A%0A%3Ctemplate%3E%0A%20%20%3CProForm%0A%20%20%20%20grid%0A%20%20%20%20%3Acol-props%3D%22%7B%20span%3A%2012%20%7D%22%0A%20%20%20%20%3Arow-props%3D%22%7B%20gutter%3A%20100%20%7D%22%0A%20%20%20%20%3Aitems%3D%22formItems%22%0A%20%20%20%20%40finish%3D%22handleFinish%22%0A%20%20%3E%0A%20%20%3C%2FProForm%3E%0A%3C%2Ftemplate%3E%0A",description:""},{source:r(()=>[o(P)]),default:r(()=>[l("p",null,"form/basic")]),_:1}),l("h2",{id:"api",tabindex:"-1"},[n("API "),l("a",{class:"header-anchor",href:"#api","aria-label":"Permalink to “API”"},"​")]),l("h3",{id:"props",tabindex:"-1"},[n("Props "),l("a",{class:"header-anchor",href:"#props","aria-label":"Permalink to “Props”"},"​")]),l("div",{class:"vp-table"},[l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"参数"),l("th",null,"说明"),l("th",null,"类型"),l("th",null,"默认值")])]),l("tbody",null,[l("tr",null,[l("td",null,"colon"),l("td",null,"配置 Form.Item 的 colon 的默认值 (只有在属性 layout 为 horizontal 时有效)"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"true")])]),l("tr",null,[l("td",null,"disabled"),l("td",null,"设置全部表单项禁用，表单项单独配置优先级更高"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"hideRequired-mark"),l("td",null,"隐藏所有表单项的必选标记"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"label-align"),l("td",null,"label 标签的文本对齐方式"),l("td",null,[l("code",null,"left"),n(" | "),l("code",null,"right")]),l("td",null,[l("code",null,"'right'")])]),l("tr",null,[l("td",null,"label-col"),l("td",null,[n("label 标签布局，"),l("a",{href:"https://www.antdv.com/components/grid-cn/#col",target:"_blank",rel:"noreferrer"},"Antv Col"),n(" 的所有属性，设置 "),l("code",null,"span"),n(),l("code",null,"offset"),n(" 值，如 "),l("code",null,"{span: 3, offset: 12}"),n(" 或 "),l("code",null,"sm: {span: 3, offset: 12}")]),l("td",null,[l("code",null,"ColProps")]),l("td",null,"-")]),l("tr",null,[l("td",null,"label-wrap"),l("td",null,"label 标签的文本换行方式"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"layout"),l("td",null,"表单布局"),l("td",null,[l("code",null,"horizontal"),n("|"),l("code",null,"vertical")]),l("td",null,[l("code",null,"'horizontal'")])]),l("tr",null,[l("td",null,"form-key"),l("td",null,"表单key，默认不需要配置，系统自动递增"),l("td",null,[l("code",null,"string")]),l("td",null,"-")]),l("tr",null,[l("td",null,"wrapper-col"),l("td",null,"需要为输入控件设置布局样式时，使用该属性，用法同 labelCol"),l("td",null,[l("code",null,"ColProps")]),l("td",null,"-")]),l("tr",null,[l("td",null,"loading"),l("td",null,"表单受控加载动画，默认表单内部控制，提交表单时触发"),l("td",null,[l("code",null,"boolean")]),l("td",null,"-")]),l("tr",null,[l("td",null,"submit-on-loading"),l("td",null,"提交时是否显示加载动画(包含表单主体、提交按钮)"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"true")])]),l("tr",null,[l("td",null,"show-loading"),l("td",null,"是否显示加载动画(包含提交、加载初始值)"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"true")])]),l("tr",null,[l("td",null,"omit-nil"),l("td",null,"ProForm 会自动清空 null 和 undefined 的数据，如果你约定了 nil 代表某种数据，可以设置为 false 关闭此功能"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"true")])]),l("tr",null,[l("td",null,"readonly"),l("td",null,"设置全部表单项只读，表单项单独配置优先级更高"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"readonly-props"),l("td",null,"全部只读表单项的配置，与表单项单独配置合并处理"),l("td",null,[l("code",null,"{ tooltip?: boolean | string; copy?: boolean; emptyText?: string; ellipsis?: boolean; autoLine?: boolean}")]),l("td",null,[l("code",null,"{ emptyText: '-', ellipsis: true }")])]),l("tr",null,[l("td",null,"grid"),l("td",null,"表单布局的栅格化，基于行（row）和列（col）来定义信息区块的外部框架"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"col-props"),l("td",null,[n("在开启 grid 模式时传递给 Col，表单项单独配置优先级更高，支持"),l("a",{href:"https://www.antdv.com/components/grid-cn/#col",target:"_blank",rel:"noreferrer"},"Antv Col"),n(" 的所有属性")]),l("td",null,[l("code",null,"ColProps")]),l("td",null,[l("code",null,"{ xs: 24 }")])]),l("tr",null,[l("td",null,"row-props"),l("td",null,[n("在开启 grid 模式时传递给 Row，表单项(group、formList、formSet)单独配置优先级更高，支持"),l("a",{href:"https://www.antdv.com/components/grid-cn/#row",target:"_blank",rel:"noreferrer"},"Antv Row"),n(" 的所有属性")]),l("td",null,[l("code",null,"RowProps")]),l("td",null,[l("code",null,"{ gutter: 16 }")])]),l("tr",null,[l("td",null,"initial-values"),l("td",null,"表单默认值，只有初始化以及重置时生效"),l("td",null,[l("code",null,"object")]),l("td",null,"-")]),l("tr",null,[l("td",null,"request"),l("td",null,[n("获取表单默认值的网络请求，返回值会和"),l("code",null,"initialValues"),n("合并")]),l("td",null,[l("code",null,"(params)=>Promise<data>")]),l("td",null,"-")]),l("tr",null,[l("td",null,"params"),l("td",null,"用于 request 查询的额外参数，变化不会触发重新加载"),l("td",null,[l("code",null,"object")]),l("td",null,"-")]),l("tr",null,[l("td",null,"request-abort"),l("td",null,"终止网络请求，初始化有效"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"submitter"),l("td",null,"提交按钮相关配置"),l("td",null,[l("code",null,"boolean"),n(" | "),l("code",null,"SubmitterProps")]),l("td",null,[l("code",null,"true")])]),l("tr",null,[l("td",null,"items"),l("td",null,"表单的定义，一般是 json 数组，如果是分步表单，需要使用数组嵌套 json 数组来生成多个表单"),l("td",null,[l("a",{href:"#proformitemtype"},[l("code",null,"ProFormItemType[]"),n(" | "),l("code",null,"ProFormItemType[][]")])]),l("td",null,[l("code",null,"[]")])]),l("tr",null,[l("td",null,"layout-type"),l("td",null,"使用的表单布局模式"),l("td",null,[l("code",null,"Form"),n(" | "),l("code",null,"DrawerForm"),n(" | "),l("code",null,"ModalForm"),n(" | "),l("code",null,"QueryFilter"),n(" | "),l("code",null,"StepForm")]),l("td",null,[l("code",null,"'Form'")])])])])]),l("h3",{id:"events",tabindex:"-1"},[n("Events "),l("a",{class:"header-anchor",href:"#events","aria-label":"Permalink to “Events”"},"​")]),l("div",{class:"vp-table"},[l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"事件名"),l("th",null,"说明"),l("th",null,"类型")])]),l("tbody",null,[l("tr",null,[l("td",null,"init"),l("td",null,"表单初始化后回调事件"),l("td",null,[l("code",null,"(values, action)=> void")])]),l("tr",null,[l("td",null,"finish"),l("td",null,"提交表单且数据验证成功后回调事件"),l("td",null,[l("code",null,"(values)=>Promise<void> ｜ void")])]),l("tr",null,[l("td",null,"reset"),l("td",null,"点击重置按钮的回调"),l("td",null,[l("code",null,"(e)=>void")])]),l("tr",null,[l("td",null,"finish-failed"),l("td",null,"提交表单且数据验证失败后回调事件"),l("td",null,[l("code",null,"({ values, errorFields })=>void")])]),l("tr",null,[l("td",null,"values-change"),l("td",null,"提交表单且数据验证失败后回调事件"),l("td",null,[l("code",null,"(values)=>void")])]),l("tr",null,[l("td",null,"loading-change"),l("td",null,"加载动画变化后的回调事件"),l("td",null,[l("code",null,"(loading)=>void")])])])])]),l("h3",{id:"slots",tabindex:"-1"},[n("Slots "),l("a",{class:"header-anchor",href:"#slots","aria-label":"Permalink to “Slots”"},"​")]),l("div",{class:"vp-table"},[l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"插槽名"),l("th",null,"说明"),l("th",null,"类型")])]),l("tbody",null,[l("tr",null,[l("td",null,"submitter"),l("td",null,"提交按钮"),l("td",null,[l("code",null,"{props, action, defaultDoms}")])])])])]),l("h3",{id:"exposes",tabindex:"-1"},[n("Exposes "),l("a",{class:"header-anchor",href:"#exposes","aria-label":"Permalink to “Exposes”"},"​")]),l("div",{class:"vp-table"},[l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"名称"),l("th",null,"说明"),l("th",null,"类型")])]),l("tbody",null,[l("tr",null,[l("td",null,"getFieldValue"),l("td",null,"获取对应字段名的值"),l("td",null,[l("code",null,"(name: NamePath) => any ")])]),l("tr",null,[l("td",null,"getFieldsValue"),l("td",null,"获取一组字段名对应的值，会按照对应结构返回。默认返回现存字段值，当调用 getFieldsValue(true) 时返回所有值"),l("td",null,[l("code",null,"(nameList?: true | NamePath[]) => object")])]),l("tr",null,[l("td",null,"resetInitialValues"),l("td",null,"重新设置表单默认值"),l("td",null,[l("code",null,"(values: object) => void")])]),l("tr",null,[l("td",null,"getFieldFormatValue"),l("td",null,"获取格式化之后的单个数据"),l("td",null,[l("code",null,"(name: NamePath) => any")])]),l("tr",null,[l("td",null,"getFieldFormatValueObject"),l("td",null,"获取格式化之后的单个数据"),l("td",null,[l("code",null,"(name: NamePath) => object")])]),l("tr",null,[l("td",null,"validateFieldsReturnFormatValue"),l("td",null,"验字段后返回格式化之后的所有数据"),l("td",null,[l("code",null,"(nameList?: NamePath[]) => Promise<object>")])]),l("tr",null,[l("td",null,"setFieldValue"),l("td",null,"设置单个表单项的值"),l("td",null,[l("code",null,"(name: NamePath, value: any) => void")])]),l("tr",null,[l("td",null,"setFieldsValue"),l("td",null,"设置表单的值"),l("td",null,[l("code",null," (values: object, isMerge?: boolean = true) => void")])]),l("tr",null,[l("td",null,"resetField"),l("td",null,"重置字段到 initialValue，并清除验证信息"),l("td",null,[l("code",null,"(name: NamePath) => void")])]),l("tr",null,[l("td",null,"clearValidate"),l("td",null,"移除表单项的校验结果。传入待移除的表单项的 name 属性或者 name 组成的数组，如不传则移除整个表单的校验结果"),l("td",null,[l("code",null,"(nameList?: NamePath[]) => void ")])]),l("tr",null,[l("td",null,"validateFields"),l("td",null,"触发表单验证"),l("td",null,[l("code",null,"(nameList?: NamePath[]) => Promise")])]),l("tr",null,[l("td",null,"reset"),l("td",null,"对整个表单进行重置，将所有字段值重置为初始值并移除校验结果"),l("td",null,[l("code",null,"() => void")])]),l("tr",null,[l("td",null,"submit"),l("td",null,[n("提交表单，与点击 "),l("code",null,"submit"),n(" 按钮效果相同")]),l("td",null,[l("code",null,"() => void")])])])])]),l("h3",{id:"proformitemtype",tabindex:"-1"},[n("ProFormItemType "),l("a",{class:"header-anchor",href:"#proformitemtype","aria-label":"Permalink to “ProFormItemType”"},"​")]),l("div",{class:"vp-table"},[l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"字段名称"),l("th",null,"说明"),l("th",null,"类型"),l("th",null,"默认值")])]),l("tbody",null,[l("tr",null,[l("td",null,"key"),l("td",null,"确定这个列的唯一值，一般用于 name 重复的情况"),l("td",null,[l("code",null,"string | number")]),l("td",null,"-")]),l("tr",null,[l("td",null,"name"),l("td",null,"与实体映射的 key，数组会被转化 [a,b] => Entity.a.b"),l("td",null,[l("code",null,"string | string[]")]),l("td",null,"-")]),l("tr",null,[l("td",null,"fieldType"),l("td",null,"表单项渲染方式，我们自带了一部分，你也可以自定义 fieldType"),l("td",null,[l("a",{href:"#fieldtype-列表"},[l("code",null,"ProFieldType")])]),l("td",null,[l("code",null,"ProFieldType.TEXT")])]),l("tr",null,[l("td",null,"title"),l("td",null,"标题的内容，是 form 中的 label"),l("td",null,[l("code",null,"VNode | ((formData: T) => VNode)")]),l("td",null,"-")]),l("tr",null,[l("td",null,"tooltip"),l("td",null,"会在 title 旁边展示一个 icon，鼠标浮动之后展示"),l("td",null,[l("code",null,"string")]),l("td",null,"-")]),l("tr",null,[l("td",null,"initialValue"),l("td",null,"表单项默认值，类型根据表单项而定"),l("td",null,[l("code",null,"any")]),l("td",null,"-")]),l("tr",null,[l("td",null,"order"),l("td",null,"排序"),l("td",null,[l("code",null,"number")]),l("td",null,"-")]),l("tr",null,[l("td",null,"placeholder"),l("td",null,"占位符"),l("td",null,[l("code",null,"string | string[]")]),l("td",null,"-")]),l("tr",null,[l("td",null,"width"),l("td",null,'Field 的长度，我们归纳了常用的 Field 长度以及适合的场景，支持了一些枚举 "xs" , "sm" , "md" ,"lg" , "xl"'),l("td",null,[l("code",null,'number | "xs" | "sm" | "md" | "lg" | "xl"')]),l("td",null,"-")]),l("tr",null,[l("td",null,"grid"),l("td",null,[n("开启 grid 模式，仅在"),l("code",null,"group"),n("中有效，默认继承表单配置")]),l("td",null,[l("code",null,"boolean")]),l("td",null,"-")]),l("tr",null,[l("td",null,"colProps"),l("td",null,[n("在开启 grid 模式时传递给 Col，支持"),l("a",{href:"https://www.antdv.com/components/grid-cn/#col",target:"_blank",rel:"noreferrer"},"Antv Col"),n(" 的所有属性")]),l("td",null,[l("code",null,"ColProps")]),l("td",null,[l("code",null,"{ xs: 24 }")])]),l("tr",null,[l("td",null,"rowProps"),l("td",null,[n("在开启 grid 模式时传递给 Row，仅在"),l("code",null,"group、formList、formSet"),n("中有效，支持"),l("a",{href:"https://www.antdv.com/components/grid-cn/#row",target:"_blank",rel:"noreferrer"},"Antv Row"),n(" 的所有属性")]),l("td",null,[l("code",null,"RowProps")]),l("td",null,[l("code",null,"{ gutter: 16 }")])]),l("tr",null,[l("td",null,"spaceProps"),l("td",null,[n("没有开启grid 模式时传递给 Space，仅在"),l("code",null,"group、formSet"),n("中有效，支持"),l("a",{href:"https://www.antdv.com/components/space-cn/#api",target:"_blank",rel:"noreferrer"},"Antv Space"),n(" 的所有属性")]),l("td",null,[l("code",null,"SpaceProps")]),l("td",null,"-")]),l("tr",null,[l("td",null,"allowClear"),l("td",null,"可以点击清除图标删除内容"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"rules"),l("td",null,[n("表单验证规则 ，和"),l("code",null,"FormItem"),n(" 的 "),l("code",null,"rules"),n(" 相同")]),l("td",null,[l("code",null,"FormItemProps['rules'] | (formData: T, action: ProFormActionType) => FormItemProps['rules']")]),l("td",null,"-")]),l("tr",null,[l("td",null,"hidden"),l("td",null,"是否隐藏"),l("td",null,[l("code",null,"boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"disabled"),l("td",null,"是否禁用状态"),l("td",null,[l("code",null,"((formData: T, rowData?: Entity) => boolean) | boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"readonly"),l("td",null,"是否只读状态"),l("td",null,[l("code",null,"((formData: T, rowData?: Entity) => boolean) | boolean")]),l("td",null,[l("code",null,"false")])]),l("tr",null,[l("td",null,"readonlyProps"),l("td",null,"只读状态配置"),l("td",null,[l("code",null,"{ tooltip?: boolean | string; copy?: boolean; emptyText?: string; ellipsis?: boolean; autoLine?: boolean}")]),l("td",null,[l("code",null,"{ emptyText: '-', ellipsis: true }")])]),l("tr",null,[l("td",null,"formItemProps"),l("td",null,[l("a",{href:"https://www.antdv.com/components/form-cn/#form-item",target:"_blank",rel:"noreferrer"},"Antv FormItem"),n(" 的部分属性")]),l("td",null,[l("code",null,"FormItemProps | ((formData: T, config: ProFormItemType<T, FieldType>) => FormItemProps")]),l("td",null,"-")]),l("tr",null,[l("td",null,"fieldProps"),l("td",null,"Field 的额外属性，不同 Field 值不同"),l("td",null,[l("code",null,"((formData: T) => Record<string, any>) | Record<string, any>")]),l("td",null,"-")]),l("tr",null,[l("td",null,"extra"),l("td",null,"额外扩展，支持标题及表单控件后方展示"),l("td",null,[l("code",null,"{ label?: VNode | ((formData: T) => VNode); item?: VNode | ((formData: T) => VNode)}")]),l("td",null,"-")]),l("tr",null,[l("td",null,"valueEnum"),l("td",null,"部分表单项支持，支持 object 和 Map，Map 是支持其他基础类型作为 key"),l("td",null,[l("code",null,"((formData: T) => ProValueEnumObj | ProValueEnumMap) | ProValueEnumObj | ProValueEnumMap")]),l("td",null,"-")]),l("tr",null,[l("td",null,"colSize"),l("td",null,[n("一个表单项占用的格子数量，占比= "),l("code",null,"colSize*span"),n("，"),l("code",null,"colSize"),n(" 默认为 1，仅在查询表单中生效")]),l("td",null,[l("code",null,"number")]),l("td",null,"1")]),l("tr",null,[l("td",null,"convertValue"),l("td",null,"前置转化，发生在组件获得数据之前，一般是后端直接给前端的数据，有时需要精加工一下"),l("td",null,[l("code",null,"(value: any,namePath: NamePath) => string | boolean | Record<string, any>")]),l("td",null,"-")]),l("tr",null,[l("td",null,"transform"),l("td",null,"提交时转化，发生在提交的时候，一般来说都是吐给后端的存在数据库里的数据"),l("td",null,[l("code",null,"(value: any,namePath: NamePath,allValues: any,) => string | Record<string, any>")]),l("td",null,"-")]),l("tr",null,[l("td",null,"options"),l("td",null,"部分表单项支持，select、checkboxGroud、radioGroup、treeSelect等"),l("td",null,[l("code",null,"(string | number | RequestOptionsType)[] | ((formData: T, rowData?: Entity) => (string | number | RequestOptionsType)[])")]),l("td",null,"-")]),l("tr",null,[l("td",null,"request"),l("td",null,[n("部分表单项支持，从网络获取"),l("code",null,"options"),n("数据")]),l("td",null,[l("code",null,"(params: U,index?: number) => Promise<string | number | RequestOptionsType[]")]),l("td",null,"-")]),l("tr",null,[l("td",null,"dependencies"),l("td",null,"所依赖的 values 变化后，触发 request 重新执行，并把 values 注入到 params 里"),l("td",null,[l("code",null,"NamePath[]")]),l("td",null,"-")]),l("tr",null,[l("td",null,"linkage"),l("td",null,[n("无比强大的联动功能，可以"),l("code",null,"清空、禁用、隐藏"),n("其他表单项")]),l("td",null,[l("code",null,"{ disabled?: Key[] | ((value: any, formData: any) => Key[]); hidden?: Key[] | ((value: any, formData: any) => Key[]); clear?: NamePath[] | ((value: any, formData: any) => NamePath[])}")]),l("td",null,"-")]),l("tr",null,[l("td",null,"renderFormItem"),l("td",null,[n("自定义渲染表单项的Field，支持"),l("code",null,"jsx、插槽"),n("等多种渲染方式")]),l("td",null,[l("code",null,"string | (({value: any; onChange: <T = any>(value: T, ...args: any[]) => void;defaultDom: VNode; formData: T;action: ProFormActionType }) => VNode | string)")]),l("td",null,"-")]),l("tr",null,[l("td",null,"render"),l("td",null,"自定义渲染表单项，包含label"),l("td",null,[l("code",null,"VNode | ((formData: T) => VNode)")]),l("td",null,"-")]),l("tr",null,[l("td",null,"onChange"),l("td",null,[n("表单项value变化时的回调，在强大"),l("code",null,"linkage"),n("下，基本使用不到")]),l("td",null,[l("code",null,"(...args: any[]) => void")]),l("td",null,"-")]),l("tr",null,[l("td",null,"onInit"),l("td",null,"表单项初始化时的回调，此处可以回去到Field的ref"),l("td",null,[l("code",null,"(ref: any) => void")]),l("td",null,"-")]),l("tr",null,[l("td",null,"children"),l("td",null,[n("表单控件，"),l("code",null,"group、formList、formSet"),n(" 下有效")]),l("td",null,[l("code",null,"ProFormItemType<T, FieldType>[] | ((formData: T) => ProFormItemType<T, FieldType>[])")]),l("td",null,"-")])])])]),l("h3",{id:"fieldtype-列表",tabindex:"-1"},[n("fieldType 列表 "),l("a",{class:"header-anchor",href:"#fieldtype-列表","aria-label":"Permalink to “fieldType 列表”"},"​")]),l("p",null,"fieldType 是 ProForm 的灵魂， ProForm 会根据 fieldType 来映射成不同的表单项。以下是支持的常见表单项："),l("div",{class:"vp-table"},[l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"fieldType"),l("th",null,"枚举"),l("th",null,"说明")])]),l("tbody",null,[l("tr",null,[l("td",null,[l("code",null,"text")]),l("td",null,[l("code",null,"ProFieldType.TEXT")]),l("td",null,"文本框")]),l("tr",null,[l("td",null,[l("code",null,"password")]),l("td",null,[l("code",null,"ProFieldType.PASSWORD")]),l("td",null,"密码输入框")]),l("tr",null,[l("td",null,[l("code",null,"digit")]),l("td",null,[l("code",null,"ProFieldType.DIGIT")]),l("td",null,"数字输入框")]),l("tr",null,[l("td",null,[l("code",null,"digitRange")]),l("td",null,[l("code",null,"ProFieldType.DIGIT_RANGE")]),l("td",null,"数字区间输入框")]),l("tr",null,[l("td",null,[l("code",null,"select")]),l("td",null,[l("code",null,"ProFieldType.SELECT")]),l("td",null,"下拉框")]),l("tr",null,[l("td",null,[l("code",null,"treeSelect")]),l("td",null,[l("code",null,"ProFieldType.TREE_SELECT")]),l("td",null,"树形下拉框")]),l("tr",null,[l("td",null,[l("code",null,"cascader")]),l("td",null,[l("code",null,"ProFieldType.CASCADER")]),l("td",null,"级联选择器")]),l("tr",null,[l("td",null,[l("code",null,"textarea")]),l("td",null,[l("code",null,"ProFieldType.TEXTAREA")]),l("td",null,"文本域")]),l("tr",null,[l("td",null,[l("code",null,"checkbox")]),l("td",null,[l("code",null,"ProFieldType.CHECKBOX")]),l("td",null,"多选框")]),l("tr",null,[l("td",null,[l("code",null,"checkboxGroup")]),l("td",null,[l("code",null,"ProFieldType.CHECKBOX_GROUP")]),l("td",null,"多选框组")]),l("tr",null,[l("td",null,[l("code",null,"radioGroup")]),l("td",null,[l("code",null,"ProFieldType.RADIO_GROUP")]),l("td",null,"单选框组")]),l("tr",null,[l("td",null,[l("code",null,"switch")]),l("td",null,[l("code",null,"ProFieldType.SWITCH")]),l("td",null,"开关")]),l("tr",null,[l("td",null,[l("code",null,"slider")]),l("td",null,[l("code",null,"ProFieldType.SLIDER")]),l("td",null,"滑动输入条")]),l("tr",null,[l("td",null,[l("code",null,"rate")]),l("td",null,[l("code",null,"ProFieldType.RATE")]),l("td",null,"星级组件")]),l("tr",null,[l("td",null,[l("code",null,"date")]),l("td",null,[l("code",null,"ProFieldType.DATE")]),l("td",null,"日期")]),l("tr",null,[l("td",null,[l("code",null,"dateRange")]),l("td",null,[l("code",null,"ProFieldType.DATE_RANGE")]),l("td",null,"日期区间")]),l("tr",null,[l("td",null,[l("code",null,"time")]),l("td",null,[l("code",null,"ProFieldType.TIME")]),l("td",null,"时间")]),l("tr",null,[l("td",null,[l("code",null,"timeRange")]),l("td",null,[l("code",null,"ProFieldType.TIME_RANGE")]),l("td",null,"时间区间")]),l("tr",null,[l("td",null,[l("code",null,"uploadButton")]),l("td",null,[l("code",null,"ProFieldType.UPLOAD_BUTTON")]),l("td",null,"上传（按钮）")]),l("tr",null,[l("td",null,[l("code",null,"uploadDragger")]),l("td",null,[l("code",null,"ProFieldType.UPLOAD_DRAGGER")]),l("td",null,"上传（拖拽）")]),l("tr",null,[l("td",null,[l("code",null,"uploadPicture")]),l("td",null,[l("code",null,"ProFieldType.UPLOAD_PICTURE")]),l("td",null,"上传（图片）")]),l("tr",null,[l("td",null,[l("code",null,"uploadPictureList")]),l("td",null,[l("code",null,"ProFieldType.UPLOAD_PICTURE_LIST")]),l("td",null,"上传（图片列表）")]),l("tr",null,[l("td",null,[l("code",null,"group")]),l("td",null,[l("code",null,"ProFieldType.GROUP")]),l("td",null,"分组")]),l("tr",null,[l("td",null,[l("code",null,"formSet")]),l("td",null,[l("code",null,"ProFieldType.FORM_SET")]),l("td",null,"表单集合")]),l("tr",null,[l("td",null,[l("code",null,"formList")]),l("td",null,[l("code",null,"ProFieldType.FORM_LIST")]),l("td",null,"表单列表")])])])]),l("h2",{id:"源代码",tabindex:"-1"},[n("源代码 "),l("a",{class:"header-anchor",href:"#源代码","aria-label":"Permalink to “源代码”"},"​")]),l("p",null,[l("a",{href:"https://github.com/pro-design-vue/pro-design/tree/dev/packages/components/form",target:"_blank",rel:"noreferrer"},"组件"),n(" • "),l("a",{href:"https://github.com/pro-design-vue/pro-design/tree/dev/packages/theme-chalk/src/form.less",target:"_blank",rel:"noreferrer"},"样式"),n(" • "),l("a",{href:"https://github.com/pro-design-vue/pro-design/blob/dev/docs/component/form.md",target:"_blank",rel:"noreferrer"},"文档")]),l("h2",{id:"贡献者",tabindex:"-1"},[n("贡献者 "),l("a",{class:"header-anchor",href:"#贡献者","aria-label":"Permalink to “贡献者”"},"​")]),l("p",null,[l("a",{href:"https://github.com/pro-design-vue/pro-design/graphs/contributors",target:"_blank"},[l("img",{src:"https://contrib.rocks/image?repo=pro-design-vue/pro-design&max=100&columns=15",width:"40px",style:{"pointer-events":"none"}})])])])}}});export{x as __pageData,R as default};
